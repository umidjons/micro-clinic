<div class="aside" tabindex="-1" role="dialog" style="max-width: 60%;">
    <div class="aside-dialog">
        <div class="aside-content" ng-form="formPay">

            <div class="aside-header" ng-show="title">
                <button type="button" class="close" ng-click="$hide()">&times;</button>
                <h4 class="aside-title" ng-bind="title"></h4>
            </div>

            <div class="aside-body">
                <div class="col-sm-12">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label>ФИО</label>
                            <p class="form-control-static bold text-success">{{ Pay.fullName }}</p>
                        </div>
                        <div class="form-group">
                            <label class="req">Тип платежа</label>
                            <select ng-model="Pay.type" ng-options="pt.title for pt in payTypes"
                                    ng-change="Pay.typeChanged()"
                                    class="form-control" required>
                                <option value="">-</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="req">Общая сумма</label>
                            <input ng-model="Pay.total" ng-change="Pay.recalc()"
                                   class="form-control"
                                   type="number" min="0" ng-max="Pay.totalMax" required>
                        </div>

                        <div ng-if="Pay.type._id == 'separated'" class="form-group">
                            <label class="req">По терминалу</label>
                            <input ng-model="Pay.totalCashless" ng-change="Pay.recalc('cashless')"
                                   type="number" min="1" ng-max="Pay.total-Pay.totalCash"
                                   class="form-control" required>
                        </div>

                        <div ng-if="Pay.type._id == 'separated'" class="form-group">
                            <label class="req">По наличному</label>
                            <input ng-model="Pay.totalCash" ng-change="Pay.recalc('cash')"
                                   type="number" min="1" ng-max="Pay.total-Pay.totalCashless"
                                   class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label class="req">Долг после оплаты</label>
                            <input ng-model="Pay.debt" class="form-control" readonly required>
                        </div>
                    </div>
                </div>
            </div>

            <div class="aside-footer">
                <button type="button" class="btn btn-danger" ng-click="$hide()">Отмена</button>
                <button ng-click="Pay.save()"
                        ng-disabled="formPay.$invalid" class="btn btn-success">
                    <i class="fa fa-fw fa-gift"></i> Оплатить
                </button>
            </div>

        </div>
    </div>
</div>